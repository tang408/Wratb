<!DOCTYPE html>
<html>

<head id="Head1">
    <title>
        台九甲監測資訊圖台
    </title>
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9,IE=10,IE=11">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">


    <!-- <link href="./App_Themes/map/css/bootstrap.css" type="text/css" rel="stylesheet"> -->
    <link href="./App_Themes/map/css/bootstrap-theme.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/easyui.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/font-awesome.min.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/icon.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/jquery-ui.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/jquery-ui.min.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/jquery-ui-timepicker-addon.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/layout.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/main.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/map.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/mis.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/misframe.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/nanoscroller.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/ol.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/reset.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/spectrum.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/tab.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/table.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/tm-ol.css" type="text/css" rel="stylesheet">
    <link href="./App_Themes/map/css/turbidity.css" type="text/css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="true">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Mulish:wght@200;300;400;500;600;700;800;900&amp;display=swa">

    <link rel="stylesheet" href="./App_Themes/map/css/mapContent.css">
</head>

<body scroll="no" style="overflow:hidden">
    <form method="post" action="./Map.aspx" id="form1">
        <div class="aspNetHidden">
            <input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE"
                value="0jWG7kK2SKay6N8izMbKxmSydhbT3SQn3Vh8fqKarmp+7kJG/c8Zvrq5U9Q5qPGXpnyvum/RbOaRQn82Put5ByXyyzjg8GPpNRggO/DRGwA=">
        </div>

        <div class="aspNetHidden">

            <input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="B2654881">
        </div>
        <div>


        </div>
    </form>

    <div id="map" class="map" style="background-color: rgb(255, 255, 255); height: 849px;">
        <!--content結尾-->


        <div id="mouse-position">
            <div class="custom-mouse-position">&nbsp;</div>
        </div>
        <table id="tableCaptureExtent"
            style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; z-index: 9; pointer-events: none; display: none;">
            <tbody>
                <tr>
                    <td style="text-align: center; vertical-align: middle;">
                        <div id="divCaptureExtent"
                            style="width: 1024px; height: 768px; border: 2px solid blue; display: inline-block">
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="ol-viewport"
            style="position: relative; overflow: hidden; width: 100%; height: 100%; touch-action: none;" data-view="7">
            <canvas class="ol-unselectable" style="width: 100%; height: 100%; display: block;" width="1920"
                height="849"></canvas>
            <div class="ol-overlaycontainer"></div>
            <div class="ol-overlaycontainer-stopevent">
                <div class="ol-overlay-container ol-selectable" style="position: absolute; display: none;">
                </div>
                <div class="ol-rotate ol-unselectable ol-control ol-hidden"><button class="ol-rotate-reset"
                        type="button" title="Reset rotation"><span class="ol-compass"
                            style="transform: rotate(0rad);">⇧</span></button></div>
                <div class="ol-attribution ol-unselectable ol-control ol-uncollapsible">
                    <ul>
                        <li style="display: none;"></li>
                    </ul><button type="button" title="Attributions"><span>i</span></button>
                </div>
                <div class="tm-ol-scale-line ol-unselectable">
                    <div class="tm-ol-scale-line-inner" style="width: 115px;">500 m</div>
                </div>
                <div class="tm-ol-zoom ol-unselectable ol-control"><button class="tm-ol-zoom-in" type="button"
                        title="Zoom in">+</button><button class="tm-ol-zoom-out" type="button"
                        title="Zoom out">−</button></div>
            </div>
        </div>
    </div>
    <div class="map_menu box-close">
        <div class="toggle-btn">
            <button class="toggle-open">展開</button>
            <button class="toggle-close">關閉</button>
        </div>


        <div id="mapnav" class="mapnav1">
            <ul>
                <li class="nav_00"><a href="javascript:void(0);toolSwitch('fullMap')">計畫範圍</a></li>
                <li class="nav_01"><a href="javascript:void(0);toolSwitch('baseMap')">底圖切換</a></li>
                <li class="nav_05"><a href="javascript:void(0);toolSwitch('legend')">圖層套疊</a></li>
                <li class="nav_08"><a href="javascript:void(0);toolSwitch('decisionInfo')">決策資訊</a></li>
                <li class="nav_07"><a href="javascript:void(0);toolSwitch('closeAll');clearAllMark();">關閉全部</a></li>
                <li style="display: none" class="nav_99"><a href="javascript:void(0);toolSwitch('backMis')">返回</a></li>
            </ul>
        </div>
    </div>
    <div id="map_ct" class="map_cont">
        <!--內容-->
        <div class="FuncBox">
            <!--箭頭-->
            <div id="contentBox1" class="Box" style="display: none;">
                <iframe id="ifBox01" src="Map/baseMap.html" style="width: 100%; height: 100%;"></iframe>
            </div>

            <div id="contentBox5" class="Box" style="display: none;">
                <iframe id="ifBox05" src="Map/legend.html" style="width: 100%; height: 100%;"></iframe>
            </div>

            <div id="contentBox8" class="Box" style="display: none;">
                <iframe id="ifBox08" src="Map/decisionInfo.html" style="width: 100%; height: 100%;"></iframe>
            </div>
        </div>
        <!--內容結尾-->
    </div>
    <div id="largeInfo" class="map_cont">
        <iframe id="largeInfoFrame" style="width: 100%; height: 100%" frameborder="0"
            src="Map/decisionInfo_rainfall.html"></iframe>
    </div>
    <div id="helper" class="modal fade" role="dialog">
        <div class="Popup modal-dialog" role="document">
            <div class="modal-content">
                <div class="BtnFunc modal-header">
                    <ul>
                        <li style="float: left">
                            <h1>HELP</h1>
                        </li>
                        <li class="close" data-dismiss="modal" aria-label="Close"><a
                                style="margin-top: 8px; margin-right: -10px;"
                                href="javascript:void(0);$('#helper').modal('hide');">關閉</a>
                        </li>
                    </ul>
                </div>
                <!--關閉+說明-->
                <div class="modal-body">
                    <div id="helpContent">
                        • 請平移地圖，將要匯出的範圍移動至範圍內
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="featureDetail" class="modal fade" role="dialog">
        <div class="Popup modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="BtnFunc modal-header">
                    <ul>
                        <li style="float: left">
                            <h1>&nbsp;
                            </h1>
                        </li>
                        <li class="close" data-dismiss="modal" aria-label="Close"><a
                                style="margin-top: 8px; margin-right: -10px;"
                                href="javascript:void(0);$('#featureDetail').modal('hide');">關閉</a> </li>
                    </ul>
                </div>
                <!--關閉+說明-->
                <div class="modal-body">
                    <div id="featureDetailContent">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- <script type="text/javascript">
        mapInit();
    </script> -->



</body>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>


<script src="./script/map/jquery.js" type="text/javascript"></script>
<!--<script src="./script/map/bootstrap.js" type="text/javascript"></script> -->
<script src="./script/map_custom/BubbleContentGenerator.js" type="text/javascript"></script>

<script src="./script/map_custom/tbd_vars.ashx" type="text/javascript"></script>
<script src="./script/map_custom/map_base.js"></script>
<script src="./script/Highcharts/highcharts.js" type="text/javascript"></script>
<script src="./script/map/jquery.easyui.min.js" type="text/javascript"></script>
<script src="./script/map/proj4.js" type="text/javascript"></script>
<script src="./script/map_custom/pro4_defs.js" type="text/javascript"></script>
<script src="./script/map/ol.js" type="text/javascript"></script>

<!-- 以下順序不可改 -->
<script src="./script/map_custom/map_vars.js" type="text/javascript"></script>
<script src="./script/map_custom/LayerStyles.js" type="text/javascript"></script>
<script src="./script/map_custom/map_layers.js" type="text/javascript"></script>
<!-- ============ -->
<script src="./script/map/ImageFilter.js" type="text/javascript"></script>

<script src="./script/map/tm_openlayers_plugin.js" type="text/javascript"></script>
<script src="./script/map/tm_openlayers_measure.js" type="text/javascript"></script>
<script src="./script/map/tm_openlayers_locate.js" type="text/javascript"></script>
<script src="./script/map/tm_openlayers_layer_manager.js" type="text/javascript"></script>
<script src="./script/map/tm_ol3_editor.js" type="text/javascript"></script>
<script src="./script/map_custom/page_func.js" type="text/javascript"></script>
<script src="./script/map_custom/map_init.js" type="text/javascript"></script>
<script src="./Script/map_custom/FeatureDetailContentGenerator.js" type="text/javascript"></script>
<script src="./Script/map/jquery-ui.min.js" type="text/javascript"></script>


<script>
    $(document).ready(function () {
        $(".toggle-open").click(function () {
            $("#mapnav").show();
            $(".toggle-open").hide();
            $(".toggle-close").show();
        });

        $(".toggle-close").click(function () {
            $("#mapnav").hide();
            $(".toggle-open").show();
            $(".toggle-close").hide();
            $(".mapnav1 li").removeClass("active");
            $("#map_ct").hide();
            $("#largeInfo").hide();
        });

        // 判斷手機版時的初始狀態
        if ($(window).width() < 768) {
            $(".toggle-open").show();
            $(".toggle-close").hide();
            $("#mapnav").hide();
        } else {
            $(".toggle-open").hide();
            $(".toggle-close").hide();
            $("#mapnav").show();
        }

        // 監聽視窗大小變化事件
        $(window).resize(function () {
            if ($(window).width() < 768 && $("#mapnav").is(":visible")) {
                $(".toggle-open").hide();
                $(".toggle-close").show();
            } else {
                $(".toggle-open").hide();
                $(".toggle-close").hide();
            }
        });

        $(".nav_00 a").click(function () {
            showContentBox(0);
        });

        $(".nav_01 a").click(function () {
            showContentBox(1);
        });

        $(".nav_05 a").click(function () {
            showContentBox(5);
        });
        $(".nav_08 a").click(function () {
            showContentBox(8);
        });

        // 其他菜單的點擊事件可以依此類推

        function showContentBox(boxNum) {
            $(".Box").hide();
            $("#contentBox" + boxNum).show();
        }

    });

    $(".toggleSwitch ").click(function () {
        $("#largeInfo").show();
    })

</script>

<!-- <script type="text/javascript">
    var locatedFeature;
    $.support.cors = true;
    var resizeInterval =
        setInterval(resizeMap, 500);
    function resizeMap() {
        var $map = $(".map");
        if ($map.length > 0) {
            $map.height($("html").height());
            map.updateSize();
            //$("#contentBox").height($("html").height() - 49);
            clearInterval(resizeInterval);
            resizeInterval = null;
            var $iframes = $("#contentBox iframe");
            for (var i = 0; i < $iframes.length; i++) {
                var cWin = $iframes[i].contentWindow;
                if (cWin && cWin.resizeLayout) {
                    cWin.resizeLayout();
                }
            }
        }
        resizeLargeInfo();
    }

    $(window).on("resize", function () {
        clearInterval(resizeInterval);
        resizeInterval = setInterval(resizeMap, 500);
    });
</script>
<script type="text/javascript">
    var isLargeInfoExpand = false;
    function expandLargeInfo() {
        isLargeInfoExpand = true;
        resizeLargeInfo();
    }
    function shrinkLargeInfo() {
        isLargeInfoExpand = false;
        $("#largeInfo").width(500);
    }
    function resizeLargeInfo() {
        if (isLargeInfoExpand) {
            var newWidth = $("html").width() - 20 - $(".map_cont:eq(1)").width() - $("#mouse-position").width() - 13 - 10;
            if (newWidth != $("#largeInfo").width()) {
                $("#largeInfo").width(newWidth);
            }
        }
    }
</script>
<script type="text/javascript">

    function setStationValue(data) {
        for (var i = 0; i < data.length; i++) {
            if (data[i]["ID"] == stationID) {
                var theDate = new Date(data[i]["Time"] + "+0800");
                if (isNaN(theDate.getDate())) {
                    theDate = new Date(data[i]["Time"]);
                }
                $waterQualityConent.append(
                    "<span style='padding:2px; text-align:left;'>" + data[i]["Concentration"] + " PPM </span>"
                    + "<br> 資料時間:" + (theDate.getYear() - 11) + "/" + (theDate.getMonth() + 1) + "/" + theDate.getDate() + " " + theDate.getHours() + ":" + theDate.getMinutes());
                break;
            }
        }
    }
</script> -->

</html>